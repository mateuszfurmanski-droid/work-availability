<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Work availability</title>
<style>
  body{
    font-family: Arial, sans-serif;
    background:#0f172a;
    color:#e5e7eb;
    display:flex;
    align-items:center;
    justify-content:center;
    height:100vh;
    margin:0;
  }
  .box{
    max-width:420px;
    padding:24px;
    border-radius:12px;
    background:#020617;
    text-align:center;
    box-shadow:0 0 40px rgba(0,0,0,0.4);
  }
  p{ color:#94a3b8; margin-top:6px; }
  .status{ margin:16px 0; font-size:18px; line-height:1.35; }
  select, input[type="date"]{
    width:100%;
    padding:10px;
    border-radius:8px;
    font-size:16px;
    border:0;
    outline:none;
    margin-top:12px;
  }
  a.button{
    display:block;
    margin-top:16px;
    padding:14px;
    border-radius:8px;
    font-weight:bold;
    text-decoration:none;
  }
  .hint{
    margin-top:10px;
    font-size:13px;
    color:#94a3b8;
  }
</style>
</head>

<body>
<div class="box">
  <h2>Work availability</h2>
  <p>One link agencies actually understand.</p>

  <!-- STATUS MENU -->
  <select id="statusSelect">
    <option value="available">ðŸŸ¢ Available now</option>
    <option value="soon">ðŸŸ¡ Available soon</option>
    <option value="booked">ðŸ”´ Currently booked</option>
  </select>

  <!-- DATE (only for SOON) -->
  <input type="date" id="soonDate" style="display:none;"/>

  <!-- STATUS TEXT -->
  <div id="statusText" class="status"></div>

  <!-- WHATSAPP BUTTON -->
  <a id="waBtn" class="button" target="_blank">Open WhatsApp</a>

  <div class="hint">
    Tip: Choose status + (if SOON) pick date, then tap WhatsApp.
  </div>
</div>

<script>
(function(){
  const statusSelect = document.getElementById("statusSelect");
  const soonDate = document.getElementById("soonDate");
  const statusText = document.getElementById("statusText");
  const waBtn = document.getElementById("waBtn");

  const baseLink = "https://mateuszfurmanski-droid.github.io/work-availability/";

  function setBtn(bg, fg, href){
    waBtn.style.background = bg;
    waBtn.style.color = fg;
    waBtn.href = href;
  }

  function formatDate(yyyy_mm_dd){
    // keep it simple: use YYYY-MM-DD as-is (works fine in WhatsApp)
    return yyyy_mm_dd;
  }

  function update(){
    const s = statusSelect.value;

    if(s === "available"){
      soonDate.style.display = "none";
      statusText.innerHTML = "ðŸŸ¢ <strong>AVAILABLE</strong><br><small>Ready to start now</small>";
      setBtn(
        "#22c55e", "#022c22",
        "https://wa.me/?text=" + encodeURIComponent(
          "Hi, Iâ€™m available for work now. Link: " + baseLink
        )
      );
      return;
    }

    if(s === "soon"){
      soonDate.style.display = "block";
      const d = soonDate.value ? formatDate(soonDate.value) : "next week";
      statusText.innerHTML = "ðŸŸ¡ <strong>SOON</strong><br><small>Available from: " + d + "</small>";
      setBtn(
        "#eab308", "#1f2937",
        "https://wa.me/?text=" + encodeURIComponent(
          "Hi, Iâ€™m finishing my current job and will be available from " + d + ". Link: " + baseLink
        )
      );
      return;
    }

    if(s === "booked"){
      soonDate.style.display = "none";
      statusText.innerHTML = "ðŸ”´ <strong>BOOKED</strong><br><small>Currently working</small>";
      setBtn(
        "#ef4444", "#111827",
        "https://wa.me/?text=" + encodeURIComponent(
          "Hi, Iâ€™m currently booked on a job. Please check my availability here: " + baseLink
        )
      );
      return;
    }
  }

  // events
  statusSelect.addEventListener("change", update);
  soonDate.addEventListener("change", update);

  // init
  update();
})();
</script>

</body>
</html>
